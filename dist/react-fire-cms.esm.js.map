{"version":3,"file":"react-fire-cms.esm.js","sources":["../src/component/Dialog.tsx","../src/dialog/MediaSelector.tsx","../src/component/Editable/ImageEditor.tsx","../src/component/Editable/NumberEditor.tsx","../src/component/Parallax.tsx","../src/component/Editable/StringEditor.tsx","../src/component/ImageText.tsx","../src/ReactFireCms.tsx","../src/component/Editable/LongFormEditor.tsx","../src/component/Editable/ComponentEditor.tsx","../src/component/Editable/index.tsx","../src/component/DynamicComponent.tsx","../src/dialog/Login.tsx","../src/dialog/Logout.tsx"],"sourcesContent":["import React from 'react';\nimport { IoCloseSharp } from 'react-icons/io5';\n\nexport type ButtonType = 'normal' | 'primary' | 'warning';\nexport type Buttons = { label: string, action: Function, type?: ButtonType, disabled?: boolean }[];\n\nexport interface DialogProps {\n  title?: string;\n  open?: boolean;\n  onClose?: () => void;\n  buttons?: Buttons\n};\n\nexport const Dialog: React.FC<DialogProps> = ({title, open, children, buttons, onClose}) => {  \n  return open ? (\n    <>\n      <div className='RFC__AntiClick' />\n      <div className='RFC__Dialog'>\n        <div className={'RFC__Dialog__Header'}>\n          {title}\n          { onClose && <IoCloseSharp onClick={onClose} className={'RFC__Dialog__Close'} />}\n        </div>\n        <div className={'RFC__Dialog__Content'}>\n          {children}\n        </div>\n        {buttons && \n          <div className={'RFC__Dialog__Buttons'}>\n            { buttons?.map(it => \n              <div key={it.label} \n                   className={`${'RFC__Dialog__Buttons__Button'} ${it.disabled && 'RFC__Dialog__Buttons__Button--disabled'} ${`RFC__Dialog__Buttons__Button--${it.type}`}`} \n                   onClick={() => {\n                     if (!it.disabled) { it.action() }\n                   }}>{it.label}</div>)}\n          </div>\n        }\n      </div>\n    </>\n  ) : null;\n}","import React from 'react';\nimport { listAll, ref, StorageReference, getDownloadURL } from \"firebase/storage\";\nimport { useCallback, useEffect, useMemo, useState } from \"react\";\nimport { useStorage } from \"reactfire\";\nimport { Dialog, Buttons } from \"../component/Dialog\"\nimport { useConfig } from '../ReactFireCms';\n\nexport interface MediaSelectorProps {\n  onSelect: (url: string) => void;\n}\n\ninterface FirebaseImageProps {\n  image: StorageReference;\n  selected?: boolean;\n  onSelect: (url: string) => void;\n}\n\nconst FirebaseImage: React.FC<FirebaseImageProps> = (props) => {\n  const {image, selected, onSelect } = props;\n  const [url, setUrl] = useState('');\n\n  useEffect(() => {\n    if (!image) return;\n    getDownloadURL(image)\n      .then(setUrl)\n      .catch(console.error)\n  }, [image]);\n\n  return (\n    <div onClick={() => onSelect(url)} \n         className={`RFC__MediaSelector__Item ${selected && 'RFC__MediaSelector__Item--Selected'}`}>\n      <img src={url} alt={image?.name} className=\"RFC__MediaSelector__Item__Image\" />\n      <span className=\"RFC__MediaSelector__Item__Text\">{image?.name}</span>\n    </div>\n  );\n}\n\nconst MediaSelector: React.FC<MediaSelectorProps> = ({onSelect}) => {\n  const config = useConfig();\n  const [error, setError] = useState('');\n  const [open, setOpen] = useState(false);\n  const [items, setItems] = useState([] as StorageReference[]);\n  const [selection, setSelection] = useState(-1);\n  const [url, setUrl] = useState('');\n\n  const storage = useStorage();\n\n  const showDialog = useCallback((e) => {\n    e.preventDefault();\n    setOpen(true);\n  }, [setOpen])\n\n  useEffect(() => {\n    if (!open) return;\n    listAll(ref(storage, config.firebase.storage.bucket))\n      .then(r => {\n        setItems(r.items);\n      })\n      .catch(e => setError(e));\n  }, [storage, open])\n\n  const buttons = useMemo<Buttons>(() => {\n    return [\n      { label: 'Cancel', action: () => setOpen(false) },\n      { label: 'Upload', action: () => {} },\n      { label: 'Select', action: () => {\n        onSelect(url);\n        setOpen(false);\n      }, disabled: selection === -1 },\n    ]\n  }, [onSelect, selection, url]);\n\n  return (\n    <div>\n      <button onClick={showDialog}>Select Image</button>\n      { open &&\n        <Dialog buttons={buttons} title=\"Media Gallery\" open={open} onClose={() => setOpen(false)}>\n          { error && <span className=\"RFC__TextStyles__Error\">{error}</span> }\n          <div className=\"RFC__MediaSelector__Grid\">\n            {\n              items.map((item, index) => (              \n                <FirebaseImage \n                  onSelect={(url) => {\n                    setSelection(index);\n                    setUrl(url);\n                  }} \n                  selected={index === selection} \n                  image={item} />\n              ))\n            }\n          </div>\n        </Dialog>\n      }\n    </div>\n  )\n}\n\nexport default MediaSelector;","import React from 'react';\nimport { EditorComponentProps } from \".\";\nimport MediaSelector from \"../../dialog/MediaSelector\";\n\ninterface ImageEditorProps extends EditorComponentProps {}\n\nconst ImageEditor: React.FC<ImageEditorProps> = ({onUpdateField, path, value}) => {\n  return (\n    <div className=\"RFC__Editable__Dialog__Image\">\n      <input \n              onChange={(e) => onUpdateField(path, e.target.value)} \n              id={path} \n              value={value} />\n      <MediaSelector onSelect={v => onUpdateField(path, v)} />\n    </div>\n  );\n\n}\n\nexport default ImageEditor;","import React from 'react';\nimport { EditorComponentProps } from \".\";\n\ninterface NumberEditorProps extends EditorComponentProps {}\n\nconst NumberEditor: React.FC<NumberEditorProps> = ({onUpdateField, path, value}) => {\n  return (\n    <>\n      <input \n              type='number'\n              onChange={(e) => onUpdateField(path, e.target.value)} \n              id={path} \n              value={value} />\n    </>);\n\n}\n\nexport default NumberEditor;","import React from 'react';\nimport { createRef, useCallback, useEffect, useState } from \"react\";\nimport { ComponentDefinition } from \"./Editable\";\nimport ImageEditor from \"./Editable/ImageEditor\";\nimport NumberEditor from \"./Editable/NumberEditor\";\n\ninterface ParallaxProps {\n  src: string;\n  zoom: number;\n}\n\nconst Parallax: React.FC<ParallaxProps> = ({src, zoom}) => {\n  const ref = createRef<HTMLDivElement>();\n  const [offset, setOffset] = useState(-1);\n\n  const scrollHandler = useCallback(() => {    \n    const offset = ref.current?.getBoundingClientRect()?.top || 0;\n    const percent = offset / window.innerHeight / 2;\n    setOffset(percent - 1);\n  }, [ref])\n\n  useEffect(() => { \n    window.addEventListener('scroll', scrollHandler);\n    return () => { window.removeEventListener('scroll', scrollHandler)}\n  }, [scrollHandler]);\n\n  return (\n    <div ref={ref} className=\"RFC__Parallax\">\n      <div className=\"RFC__Parallax__Inner\" \n           style={{backgroundImage: `url(${src})`, \n                  width: `100%`,\n                  height: `calc(100% + ${zoom * 2}px)`,\n                  backgroundPositionY: `calc(${zoom * offset}px)`,\n                  }}/>\n\n    </div>\n  )\n}\n\nexport const ParallaxDefinition: ComponentDefinition = {\n  name: 'Parallax',\n  key: 'Parallax',\n  component: Parallax,\n  Editor: ({onDataSet, data}) => {\n    const parsed = JSON.parse(data || '{}');\n    const [src, setSrc] = useState(parsed?.src || '')\n    const [zoom, setZoom] = useState(parsed?.zoom || '0')\n\n    useEffect(() => {\n      onDataSet(JSON.stringify({src, zoom}));\n    }, [src, zoom]);\n\n    return (\n      <div className=\"RFC__EditorStyles__Editor__Form\">\n        <span>Source</span>\n        <ImageEditor value={parsed.src} path='' onUpdateField={(_, value) => setSrc(value)} />\n        <span>Zoom</span>\n        <NumberEditor value={parsed.zoom} path='' onUpdateField={(_, value) => setZoom(value)} />\n      </div>\n    )\n  }\n}\n\nexport default Parallax;","import React from 'react';\nimport { EditorComponentProps } from \".\";\n\ninterface StringEditorProps extends EditorComponentProps {}\n\nconst StringEditor: React.FC<StringEditorProps> = ({onUpdateField, path, value}) => {\n  return (\n    <>\n      <input \n              onChange={(e) => onUpdateField(path, e.target.value)} \n              id={path} \n              value={value} />\n    </>);\n\n}\n\nexport default StringEditor;","import React from 'react';\nimport { useEffect, useState } from \"react\";\nimport { ComponentDefinition } from \"./Editable\";\nimport StringEditor from \"./Editable/StringEditor\";\n\ninterface ImageTextProps {\n  src: string;\n  imageStyle?: any;\n  textStyle?: any;\n  imageClass?: string;\n  textClass?: string;\n  alt?: string;\n  style?: any;\n}\n\nexport const ImageText: React.FC<ImageTextProps> = ({alt, style, imageStyle, textStyle, imageClass, textClass, src}) => {\n  if (src?.startsWith('http')) {\n    return <img src={src} style={{...style, ...imageStyle}} className={imageClass} alt={alt} />\n  } else {\n    return <span style={{...style, ...textStyle}} className={textClass}>{src}</span>\n  }\n}\n\nexport const ImageTextDefinition: ComponentDefinition = {\n  name: 'Image / Text',\n  key: 'imageText',\n  component: ImageText,\n  Editor: ({onDataSet, data}) => {\n    const parsed = JSON.parse(data);\n    const [src, setSrc] = useState(parsed?.src)\n\n    useEffect(() => {\n      onDataSet(JSON.stringify({src}));\n    }, [src]);\n\n    return (\n      <div className=\"RFC__EditorStyles__Editor__Form\">\n        <span>Source</span>\n        <StringEditor value={parsed.src} path='' onUpdateField={(_, value) => setSrc(value)} />\n      </div>\n    )\n  }\n}\n","import React from 'react';\nimport { createContext, useContext } from 'react';\nimport { FirebaseAppProvider, DatabaseProvider, AuthProvider, StorageProvider, FirestoreProvider, useFirebaseApp } from 'reactfire';\nimport { getAuth } from 'firebase/auth';\nimport { getDatabase } from 'firebase/database';\nimport { getStorage } from 'firebase/storage';\nimport { getFirestore } from 'firebase/firestore';\nimport './style/index.scss';\n\nimport { ParallaxDefinition } from './component/Parallax';\nimport { ImageTextDefinition } from './component/ImageText';\nimport { ReactFireCmsConfig } from \"./interface/ReactFireCmsConfig\"\n\ninterface ReactFireCmsProps {\n  config: ReactFireCmsConfig;\n}\n\nconst ConfigContext = createContext(null as unknown as ReactFireCmsConfig);\n\nconst mergeConfig = (config: ReactFireCmsConfig) => ({\n  ...config,\n  components: [\n    ...config.components,\n    ParallaxDefinition,\n    ImageTextDefinition,\n  ]\n})\n\nconst FirebaseProvider: React.FC = ({children}) => {\n  const firebaseConfig = useConfig();\n  \n  return (\n    <FirebaseAppProvider firebaseConfig={firebaseConfig.firebase.config}>\n      {children}\n    </FirebaseAppProvider>\n  )\n}\n\nconst FirebaseComponents: React.FC = ({children}) => {\n  const app = useFirebaseApp();\n  const database = getDatabase(app);\n  const auth = getAuth(app);\n  const store = getStorage(app);\n  const firestore = getFirestore(app);\n\n  return (\n    <AuthProvider sdk={auth}>\n      <DatabaseProvider sdk={database}>\n        <StorageProvider sdk={store}>\n          <FirestoreProvider sdk={firestore}>\n            {children}\n          </FirestoreProvider>\n        </StorageProvider>\n      </DatabaseProvider>\n    </AuthProvider>\n  )\n}\n\nexport const useConfig = () => useContext(ConfigContext);\n\nexport const ReactFireCms: React.FC<ReactFireCmsProps> = ({config, children}) => {\n  return (\n    <ConfigContext.Provider value={mergeConfig(config)}>\n      <FirebaseProvider>\n        <FirebaseComponents>\n          {children}\n        </FirebaseComponents>\n      </FirebaseProvider>\n    </ConfigContext.Provider> \n  )\n}","import React from 'react';\nimport { ContentState, convertToRaw, EditorState } from 'draft-js';\nimport { Editor } from 'react-draft-wysiwyg';\nimport { EditorComponentProps } from \".\";\nimport draftToHtml from 'draftjs-to-html';\nimport htmlToDraft from 'html-to-draftjs';\n\ninterface LongFormEditorProps extends EditorComponentProps {}\n\nconst LongFormEditor: React.FC<LongFormEditorProps> = ({onUpdateField, path, value}) => {\n  const blocks = htmlToDraft(value);\n  const state = ContentState.createFromBlockArray(\n    blocks.contentBlocks,\n    blocks.entityMap\n  );\n  const editorState = EditorState.createWithContent(state)  \n\n  return (\n    <>\n      <div className=\"RFC__Editable__Dialog__RichEditor\">\n        <Editor \n                defaultEditorState={editorState}\n                onEditorStateChange={(e: any) => {\n                  onUpdateField(path, draftToHtml(convertToRaw(e.getCurrentContent())))\n                }}/>\n      </div>\n    </>\n  ) \n}\n\nexport default LongFormEditor;","import React from 'react';\nimport { useEffect } from \"react\";\nimport { ChangeEvent, useCallback, useState } from \"react\";\nimport { EditorComponentProps } from \".\";\nimport { useConfig } from \"../../ReactFireCms\";\n\ninterface ComponentEditorProps extends EditorComponentProps {}\n\nconst ComponentEditor: React.FC<ComponentEditorProps> = ({onUpdateField, path, value}) => {\n  const input = JSON.parse(value || '{}');\n  const rfcConfig = useConfig();\n  \n  const [component, setComponent] = useState(input.component || '')\n  const [data, setData] = useState(input.data || '{}')\n\n  useEffect(() => {\n    const output = {\n      component,\n      data\n    };\n    onUpdateField(path, JSON.stringify(output));\n  }, [data, component]);\n\n  const onOptionSelect = useCallback((e: ChangeEvent<HTMLSelectElement>) => {\n    setComponent(e.target.value)\n  }, []);\n\n  const onDataSet = useCallback((data: string) => {\n    setData(data);\n  }, [])\n\n  const Editor = rfcConfig.components.find(it => it.key === component)?.Editor;\n\n  return (\n    <>\n      <select value={component} onChange={onOptionSelect}>\n        <option>Select a Component</option>\n        { rfcConfig.components.map(c => <option value={c.key}>{c.name}</option>)}\n      </select>\n      { Editor && <Editor onDataSet={onDataSet} data={data} />}\n    </>);\n\n}\n\nexport default ComponentEditor;","import React from 'react';\nimport { doc, setDoc } from \"firebase/firestore\";\nimport { FormEvent, useCallback, useEffect, useState } from \"react\";\nimport \"react-draft-wysiwyg/dist/react-draft-wysiwyg.css\";\nimport { useHotkeys } from \"react-hotkeys-hook\";\nimport { FaPencilAlt } from \"react-icons/fa\";\nimport { useUser, useFirestore, useFirestoreDocData } from \"reactfire\";\nimport { Dialog, Buttons, DialogProps } from \"../Dialog\";\nimport StringEditor from \"./StringEditor\";\nimport ImageEditor from \"./ImageEditor\";\nimport LongFormEditor from \"./LongFormEditor\";\nimport ComponentEditor from \"./ComponentEditor\";\n\nexport type FieldType = 'string' | 'longform' | 'boolean' | 'image' | 'component';\n\nexport interface EditorField {\n  name: string,\n  hint?: string,\n  type: FieldType,\n}\n\nexport type OnDataSet = (data: string) => void;\n\nexport interface ComponentDefinition {\n  name: string;\n  key: string;\n  component: any;\n  Editor: React.FC<{onDataSet: OnDataSet, data: string}>;\n}\n\nexport interface EditorComponentProps {\n  onUpdateField: (key: string, value: string) => void;\n  path: string;\n  value: string;\n}\n\ninterface EditableProps {\n  fields: EditorField[]\n  path: string,\n  style?: any,\n  className?: any,\n}\n\ninterface EditableDialogProps extends DialogProps {\n  fields: EditorField[],\n  path: string,\n}\n\nconst EditableDialog: React.FC<EditableDialogProps> = ({open, fields, path, onClose}) => {\n  const firestore = useFirestore();\n  const document = doc(firestore, path);\n  const data = useFirestoreDocData(document);\n  const [error, setError] = useState('')\n  const [toSubmit, setToSubmit] = useState({} as {[key:string]: any})\n\n  useEffect(() => {\n    setToSubmit(\n      fields.reduce((p, c) => {\n        const current = p;\n        current[c.name] = data.data?.[c.name] || '';\n        return current;\n      }, {} as {[key:string]: any})\n    )\n  }, [fields, data]);\n\n  const submitChanges = (e?: FormEvent) => {\n    e?.preventDefault();\n    setDoc(document, toSubmit, {merge: true})\n      .then(onClose)\n      .catch((e) => setError(e));\n  }\n\n  const updateField = useCallback((name: string, value: any) => {\n    const copy = {...toSubmit};\n    copy[name] = value;\n    setToSubmit(copy);\n  }, [toSubmit]);\n\n  const buttons: Buttons = [\n    { label: 'Cancel', action: () => onClose?.()},\n    { label: 'Save', action: submitChanges },\n  ]\n\n  const renderEditor = (field: EditorField) => {\n    switch (field.type) {\n      case 'string':\n        return <StringEditor onUpdateField={updateField} path={field.name} value={toSubmit[field.name]} />\n      case 'image':\n        return <ImageEditor onUpdateField={updateField} path={field.name} value={toSubmit[field.name]} />\n      case 'longform':\n        return <LongFormEditor onUpdateField={updateField} path={field.name} value={toSubmit[field.name]} />\n      case 'component':\n        return <ComponentEditor onUpdateField={updateField} path={field.name} value={toSubmit[field.name]} />\n      default:\n        return <></>;  \n    }\n  }\n\n  return (\n    <Dialog title=\"Edit Fields\" {...{onClose, open}} buttons={buttons}>\n      { open && (\n        <form className=\"RFC__Editable__Dialog\" onSubmit={submitChanges}>\n        <span className='Text__Error'>{error}</span>\n        {\n          fields?.map(field => (\n            <div key={field.name} className=\"RFC__Editable__Dialog__Field\">\n              <div className=\"RFC__Editable__Dialog__Label\">\n                {field.hint || field.name}\n              </div>\n              { renderEditor(field) }\n            </div>\n          ))\n        }\n      </form>\n      )\n    }\n    </Dialog>\n  )\n}\n\nexport const Editable: React.FC<EditableProps> = ({fields, style, path, className, children}) => {\n  const user = useUser();\n  const [shown, setShown] = useState(false);\n  const [highlight, setHighlight] = useState(false);\n  const [preview, setPreview] = useState(false);\n\n  useHotkeys('e', () => { setHighlight(true) });\n  useHotkeys('e', () => { setHighlight(false) }, { keydown: false, keyup: true });\n  useHotkeys('p', () => { setPreview(true) });\n  useHotkeys('p', () => { setPreview(false) }, { keydown: false, keyup: true });\n\n  return user.data ? (\n    <div style={style} className={`${className} RFC__Editable ${preview && 'RFC__Editable--Preview'}`}>\n      {children}\n      <EditableDialog path={path} open={shown} fields={fields} onClose={() => setShown(false)} />\n      <div className={`RFC__Editable__Pencil ${highlight && 'RFC__Editable__Pencil--Highlight'} ${preview && 'RFC__Editable__Pencil--Preview'}`}>\n        <FaPencilAlt onClick={() => setShown(true)} className=\"RFC__Editable__Pencil__Text\" />\n      </div>\n    </div>\n  ) : (<>{children}</>)\n}","import React from 'react';\nimport { useConfig } from '../ReactFireCms';\n\ninterface DynamicComponentProps {\n  content: string;\n  className?: string;\n  style?: string;\n}\n\nexport const DynamicComponent: React.FC<DynamicComponentProps> = ({content, className, style}) => {\n  const config = useConfig();\n  const parsed = JSON.parse(content || '{}');\n  const component = parsed?.component;\n  const props = JSON.parse(parsed?.data || '{}');\n  const Component = config.components.find(it => it.key === component)?.component;\n\n  return (\n    Component ? <Component {...props} className={className} style={style} /> : <></>\n  )\n}","import React from 'react';\nimport { signInWithEmailAndPassword, setPersistence, browserSessionPersistence } from 'firebase/auth';\nimport { useCallback, useState } from 'react';\nimport { useAuth } from 'reactfire'\nimport { Dialog, Buttons, DialogProps } from '../component/Dialog'\n\nexport interface LoginProps extends DialogProps {}\n\nexport const Login: React.FC<LoginProps> = ({open, onClose}) => {\n  const auth = useAuth();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  const doLogin = useCallback((e) => {\n    e?.preventDefault();\n    setPersistence(auth, browserSessionPersistence)\n      .then(() => signInWithEmailAndPassword(auth, email, password)) \n      .then(onClose)\n  }, [email, password, auth, onClose]);\n\n  const buttons: Buttons = [\n    {label: 'Login', action: doLogin}\n  ]\n  return (\n    <Dialog title=\"Login\" open={open} onClose={onClose} buttons={buttons}>\n      <form onSubmit={doLogin}\n            className=\"RFC__LoginDialog__Content\">\n        <label htmlFor=\"email\">Email</label>\n        <input value={email} onChange={v => setEmail(v.target.value)} type=\"email\" id=\"email\" />\n        <label htmlFor=\"password\">Password</label>\n        <input value={password} onChange={v => setPassword(v.target.value)} type=\"password\" id=\"password\"/>\n      </form>\n    </Dialog>\n  )\n}\n","import React from 'react';\nimport { signOut, setPersistence, browserSessionPersistence } from 'firebase/auth';\nimport { useCallback } from 'react';\nimport { useAuth } from 'reactfire'\nimport { Dialog, Buttons, DialogProps } from '../component/Dialog'\n\nexport interface LogoutProps extends DialogProps {}\n\nexport const Logout: React.FC<LogoutProps> = ({open, onClose}) => {\n  const auth = useAuth();\n\n  const doLogout = useCallback(() => {\n    setPersistence(auth, browserSessionPersistence)\n      .then(() => signOut(auth))\n      .then(onClose);  \n  }, [auth, onClose]);\n\n  const buttons: Buttons = [\n    { label: 'Cancel', action: () => onClose?.() }, \n    { label: 'Logout', action: doLogout, type: 'warning' }\n  ];\n  \n  return (\n    <Dialog \n      title=\"Login\" \n      open={open} \n      onClose={onClose}\n      buttons={buttons}>\n      Are you sure you wish to logout?\n    </Dialog>\n  )\n}\n"],"names":["Dialog","title","open","children","buttons","onClose","React","className","IoCloseSharp","onClick","map","it","key","label","disabled","type","action","FirebaseImage","props","image","selected","onSelect","useState","url","setUrl","useEffect","getDownloadURL","then","console","error","src","alt","name","MediaSelector","config","useConfig","setError","setOpen","items","setItems","selection","setSelection","storage","useStorage","showDialog","useCallback","e","preventDefault","listAll","ref","firebase","bucket","r","useMemo","item","index","ImageEditor","onUpdateField","path","value","onChange","target","id","v","NumberEditor","Parallax","zoom","createRef","offset","setOffset","scrollHandler","current","getBoundingClientRect","top","percent","window","innerHeight","addEventListener","removeEventListener","style","backgroundImage","width","height","backgroundPositionY","ParallaxDefinition","component","Editor","onDataSet","data","parsed","JSON","parse","setSrc","setZoom","stringify","_","StringEditor","ImageText","imageStyle","textStyle","imageClass","textClass","startsWith","ImageTextDefinition","ConfigContext","createContext","mergeConfig","components","FirebaseProvider","firebaseConfig","FirebaseAppProvider","FirebaseComponents","app","useFirebaseApp","database","getDatabase","auth","getAuth","store","getStorage","firestore","getFirestore","AuthProvider","sdk","DatabaseProvider","StorageProvider","FirestoreProvider","useContext","ReactFireCms","Provider","LongFormEditor","blocks","htmlToDraft","state","ContentState","createFromBlockArray","contentBlocks","entityMap","editorState","EditorState","createWithContent","defaultEditorState","onEditorStateChange","draftToHtml","convertToRaw","getCurrentContent","ComponentEditor","input","rfcConfig","setComponent","setData","output","onOptionSelect","find","c","EditableDialog","fields","useFirestore","document","doc","useFirestoreDocData","toSubmit","setToSubmit","reduce","p","submitChanges","setDoc","merge","updateField","copy","renderEditor","field","onSubmit","hint","Editable","user","useUser","shown","setShown","highlight","setHighlight","preview","setPreview","useHotkeys","keydown","keyup","FaPencilAlt","DynamicComponent","content","Component","Login","useAuth","email","setEmail","password","setPassword","doLogin","setPersistence","browserSessionPersistence","signInWithEmailAndPassword","htmlFor","Logout","doLogout","signOut"],"mappings":"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"}